{% extends "base.html" %}

{% block title %}Manage Quiz{% endblock %}

{% block content %}
<div class="content-section">
    <h4 id="white">Manage Quiz</h4>
    <form method="POST" class="form">
        <div class="form-group">
            <input type="text" id="quiz_name" name="quiz_name" placeholder="Quiz Name" required>
        </div>
        <div class="form-group">
            <input type="date" id="quiz_date" name="quiz_date" required>
        </div>
        <div class="form-group">
            <div style="display: flex; gap: 5px;">
                <input type="number" id="hours" name="hours" min="0" max="12" placeholder="HH" required style="width: 60px;">
                <h3>:</h3>
                <input type="number" id="minutes" name="minutes" min="0" max="59" placeholder="MM" required style="width: 60px;">
            </div>
        </div>
        <div class="form-group">
            <textarea id="remarks" name="remarks" rows="1" placeholder="Remarks"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Add Quiz</button>
    </form>

    <div class="container">
        <h6 id="white" class="text-center">Current Quizzes</h6>
        <div class="row">
            {% for quiz in quizzes if quiz.chapter_id == chap_id %}
            <div class="col-md-4"> <!-- 3 containers in one row -->
                <div class="quiz-card d-flex flex-column justify-content-between align-items-center p-3 border rounded shadow text-center" style="height: 250px;">
                    <div>
                        <h4>Name : {{ quiz.q_name }}</h4>
                        <h6>Duration: {{ quiz.time_duration }} </h6>
                       
                        <p>Date: {{ quiz.date_of_quiz }}</p>
                        <p>Remarks: {{ quiz.remarks }}</p>
                        <p>No. of Questions: {{ quiz.questions|length }}</p>
                    </div>
                    <div class="button-group d-flex gap-2 mt-auto">
                        <a href="{{ url_for('update_quiz', sub_id=sub_id, chap_id=chap_id, quiz_id=quiz.id) }}" class="btn btn-secondary">Edit</a>
                        <form action="{{ url_for('remove_quiz', sub_id=sub_id, chap_id=chap_id, quiz_id=quiz.id) }}" method="POST" style="display:inline;">
                            <button type="submit" class="btn btn-danger">Delete</button>
                        </form>
                        <a href="{{ url_for('add_quest', sub_id=sub_id, chap_id=chap_id, quiz_id=quiz.id) }}" class="btn btn-primary">Manage</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    </div>
</div>
{% endblock %}

